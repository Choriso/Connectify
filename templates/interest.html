{% extends "base.html" %}

{% block content %}
<div class="Group4" style="width: 622px; height: 549px; transform: translate(50%, 20%);">
    <div class="Rectangle2366" style="width: 622px; height: 549px; left: 0px; top: 0px; position: absolute; background: white; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.08); border-radius: 25px"></div>
    <div style="left: 20px; top: 17px; position: absolute; color: black; font-size: 20px; font-family: Outfit; font-weight: 400; word-wrap: break-word">Название:</div>
    <input type="text" id="title" style="left: 16px; top: 55px; position: absolute; width: 583px; height: 44px; border-radius: 12px; border: 1px rgba(0, 0, 0, 0.74) solid">
    <div style="left: 16px; top: 118px; position: absolute; color: black; font-size: 20px; font-family: Outfit; font-weight: 400; word-wrap: break-word">Описание:</div>
    <textarea id="description" style="left: 16px; top: 156px; position: absolute; width: 583px; height: 206px; border-radius: 12px; border: 1px rgba(0, 0, 0, 0.74) solid"></textarea>
    <div style="left: 20px; top: 381px; position: absolute; color: black; font-size: 20px; font-family: Outfit; font-weight: 400; word-wrap: break-word">Теги:</div>
    <input type="text" id="tags" style="left: 16px; top: 416px; position: absolute; width: 139px; height: 50px; border-radius: 12px; border: 1px rgba(0, 0, 0, 0.74) solid">
    <div class="Group4" style="width: 143px; height: 50px; left: 16px; top: 485px; position: absolute">
        <div class="Rectangle2369" style="width: 143px; height: 50px; left: 0px; top: 0px; position: absolute; background: #C4CFC0; border-radius: 44px"></div>
        <button onclick="submitForm()" style="width: 122px; left: 21px; top: 12px; position: absolute; color: black; font-size: 20px; font-family: Outfit; font-weight: 400; word-wrap: break-word">Сохранить</button>
    </div>
    <div class="Group5" style="width: 143px; height: 50px; left: 175px; top: 485px; position: absolute">
        <div class="Rectangle2369" style="width: 143px; height: 50px; left: 0px; top: 0px; position: absolute; background: #C4CFC0; border-radius: 44px"></div>
        <button onclick="cancel()" style="width: 77px; left: 33px; top: 12px; position: absolute; color: black; font-size: 20px; font-family: Outfit; font-weight: 400; word-wrap: break-word">Отмена</button>
    </div>
    <div class="Polygon10">
    <img src="{{ url_for('static', filename='images/waves.svg') }}" alt="Ваше изображение">
</div>
</div>

<script>
    function submitForm() {
        var title = document.getElementById("title").value;
        var description = document.getElementById("description").value;
        var tags = document.getElementById("tags").value;

        var data = {
            "title": title,
            "description": description,
            "tags": tags
        };

        fetch('/add_interest', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            console.log(data.message);
            // Можно добавить здесь код для обновления интерфейса или отображения сообщения об успешном добавлении
        })
        .catch(error => {
            console.error('There was an error!', error);
        });
    }

    function cancel() {
        // Добавьте здесь код для отмены действия
    }
</script>
{% endblock %}
